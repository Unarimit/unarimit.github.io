# 多线程

::: tips gpt
保证在进行异步计算时不影响游戏的帧数是非常重要的，以下是几种方法可以实现这一目标：

1. 控制计算量：在执行异步计算的过程中，需要控制每帧执行的计算量，以确保不会超过一个帧的时间导致卡顿。可以通过在每帧中执行一部分计算任务，并在下一帧继续执行剩余的任务，以逐步完成耗时计算。

2. 设置优先级和时间片：可以为游戏线程和计算线程设置不同的优先级，以确保游戏线程始终具有较高的优先级，并获得更多的CPU时间片。这样可以确保游戏线程在处理渲染和交互逻辑时不会受到太大的影响。

3. 使用Unity Job System的调度器（Scheduler）：Unity Job System提供了一个调度器，可以控制并发作业的执行顺序和优先级。通过合理设置调度器的执行顺序和优先级，可以确保异步计算在不影响游戏帧数的前提下得到适当的处理时间。

4. 实时性能监测：在开发过程中，可以使用Unity Profiler或其他性能监测工具来监测游戏的帧率、计算时间等关键指标。通过实时监测，可以发现潜在的性能问题并进行调优，以保证游戏帧数的稳定性。

无论采用哪种方法，都需要进行充分的测试和调试，确保异步计算不会影响游戏的帧率和流畅度。关注合理的任务调度和控制计算量是保证游戏帧数不受影响的重要因素。
:::

## 使用Unity Job System的调度器（Scheduler）